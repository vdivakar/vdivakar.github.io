<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Notes C++ | Divakar Verma</title> <meta name="author" content="Divakar Verma"/> <meta name="description" content="self-notes"/> <meta name="keywords" content="Divakar Verma, portfolio, website"/> <meta property="og:site_name" content="Divakar Verma"/> <meta property="og:type" content="website"/> <meta property="og:title" content="Divakar Verma | Notes C++"/> <meta property="og:url" content="https://vdivakar.github.io/blog/2022/Notes-Cpp/"/> <meta property="og:description" content="self-notes"/> <meta property="og:image" content="/assets/img/website_open_graph_dark.png"/> <meta property="og:locale" content="en"/> <meta name="twitter:card" content="summary"/> <meta name="twitter:title" content="Notes C++"/> <meta name="twitter:description" content="self-notes"/> <meta name="twitter:image" content="/assets/img/website_open_graph_dark.png"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light"/> <link rel="shortcut icon" href="/assets/img/D_.png"/> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://vdivakar.github.io/blog/2022/Notes-Cpp/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Divakar¬†</span>Verma</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV</a> </li> <li class="nav-item"> <a class="nav-link" href="https://www.traveledmap.com/traveledmap/OveBwzSNP6R0pny5S7Q0Ih2bpqt2#" target="_blank" rel="noopener noreferrer">üåê </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Notes C++</h1> <p class="post-meta">July 17, 2022</p> <p class="post-tags"> <a href="/blog/2022"> <i class="fas fa-calendar fa-sm"></i> 2022 </a> </p> </header> <article class="post-content"> <p>Notes for C++</p> <ol> <li> <code class="language-plaintext highlighter-rouge">push_back()</code> vs <code class="language-plaintext highlighter-rouge">emplace_back()</code> <ul> <li>copy vs move</li> <li>vec.insert({a, b}) vs vec.emplace(a, b)</li> </ul> </li> <li> <code class="language-plaintext highlighter-rouge">const</code> vs <code class="language-plaintext highlighter-rouge">constexpr</code> <ul> <li> <code class="language-plaintext highlighter-rouge">const</code> : could be compile-time or runtime constants</li> <li> <code class="language-plaintext highlighter-rouge">constexpr</code> : enforces compile-time constants. Fxns might still be runtime, check next point.</li> <li>Any variable that should not be modifiable after initialization and whose initializer is known at compile-time should be declared as <code class="language-plaintext highlighter-rouge">constexpr</code>.</li> <li>Any variable that should not be modifiable after initialization and whose initializer is not known at compile-time should be declared as <code class="language-plaintext highlighter-rouge">const</code>.</li> <li><a href="learncpp.com">https://www.learncpp.com/cpp-tutorial/compile-time-constants-constant-expressions-and-constexpr/</a></li> <li>Don‚Äôt use <code class="language-plaintext highlighter-rouge">const</code> when passing by value.</li> <li>Don‚Äôt use <code class="language-plaintext highlighter-rouge">const</code> when returning by value.</li> </ul> </li> <li> <code class="language-plaintext highlighter-rouge">constexpr</code> and <code class="language-plaintext highlighter-rouge">consteval</code>. <a href="https://www.learncpp.com/cpp-tutorial/constexpr-and-consteval-functions/" target="_blank" rel="noopener noreferrer">Link</a> <ul> <li> <code class="language-plaintext highlighter-rouge">constexpr</code> <ul> <li>can be called by both compile-time and runtime functions.</li> <li>to ensure compile-time, capture the return value in a new constexpr variable.</li> </ul> </li> <li> <code class="language-plaintext highlighter-rouge">consteval</code> : <strong>‚Äì C++20 ‚Äì</strong> <ul> <li>cannot be called during runtime</li> <li>enforces compile-time call. Parameters should be constexpr.</li> </ul> </li> </ul> </li> <li>Lambda <ul> <li> </ul> </li> <li>Variable initialisation. <ul> <li>3 ways: <ul> <li> <strong>Copy</strong> (<code class="language-plaintext highlighter-rouge">=</code>) : Copy values.</li> <li> <strong>Direct</strong> (<code class="language-plaintext highlighter-rouge">()</code>) : Direct initializer.</li> <li> <strong>Brace</strong> (<code class="language-plaintext highlighter-rouge">{}</code>) : Direct list initializer. <code class="language-plaintext highlighter-rouge">&lt;--- use this</code> </li> </ul> </li> <li>Default value for uninitialised variable:</li> </ul> <div class="language-c++ highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> <span class="kt">int</span> <span class="n">a</span><span class="p">;</span>    <span class="c1">// bad: undetermined. could be anything.</span>
 <span class="kt">int</span> <span class="nf">b</span><span class="p">();</span>  <span class="c1">// bad: interpreted as a function. Will return true!</span>
 <span class="kt">int</span> <span class="n">c</span><span class="p">{};</span>  <span class="c1">// good: init to 0</span>
 <span class="kt">int</span> <span class="n">d</span><span class="p">{</span><span class="mf">4.5</span><span class="p">};</span> <span class="c1">// [error][but safer]. {} doesn't allow value which d can't hold. Doesn't drop '.5' automatically like other 2 methods</span>
 <span class="n">string</span> <span class="n">s</span><span class="p">;</span> <span class="c1">// empty string of size 0 i.e. s = ""</span>
</code></pre></div> </div> </li> <li>Postfix operator has higher precedence than prefix operator. <div class="language-c++ highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> <span class="o">*</span><span class="n">ptr</span><span class="o">++</span> <span class="c1">// increment ptr but deref the un-incremented address</span>
</code></pre></div> </div> </li> <li>Operators which are mainly used for their ‚Äòside effects‚Äô return their <strong>left operand</strong>. This allows chaining. <div class="language-c++ highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> <span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="c1">// evaluates as x = (y = 5)</span>
 <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Hello "</span> <span class="o">&lt;&lt;</span> <span class="s">"world"</span><span class="p">;</span> <span class="c1">// evaluates as (std::cout &lt;&lt; "Hello ") &lt;&lt; "world!"</span>
</code></pre></div> </div> </li> <li>Macros are bad: <ul> <li>Can‚Äôt be treated as normal variables. So, hard time to debug with debuggers; would see the name &amp; not the actual value. Debuggers ‚Äòwatch‚Äô these variables.</li> <li>Don‚Äôt follow normal scoping rules; might end up getting used somewhere in the code!</li> <li>Risk of a variable being defined as a macro in some file.</li> </ul> </li> <li>Vector <code class="language-plaintext highlighter-rouge">reserve()</code> vs <code class="language-plaintext highlighter-rouge">resize()</code> vs nothing!: <ul> <li> <code class="language-plaintext highlighter-rouge">reserve</code> would allocate memory ahead of time. <strong>Capacity</strong> will be affected, not size.</li> <li> <code class="language-plaintext highlighter-rouge">resize</code> would insert or delete elements. <strong>Size</strong> is affected. Capacity may not be if new size &lt;= old capacity.</li> <li>nothing would grow/double the vector when size&gt;capacity. Required O(N) copying everytime!!</li> </ul> </li> <li> <code class="language-plaintext highlighter-rouge">lvalue</code> vs <code class="language-plaintext highlighter-rouge">rvalue</code>: <ul> <li> <code class="language-plaintext highlighter-rouge">lvalues</code> : variables/objects that persist beyond the end of the expression.</li> <li> <code class="language-plaintext highlighter-rouge">rvalues</code> : literals or returned value of functions/operators that are discarded at the end of expression.</li> </ul> </li> <li>pointers(*) vs reference(&amp;): <a href="https://stackoverflow.com/questions/57483/what-are-the-differences-between-a-pointer-variable-and-a-reference-variable?page=1&amp;tab=scoredesc#tab-top" target="_blank" rel="noopener noreferrer">Great answer link</a> <ul> <li>pointer: First account forwarding to second account. The pointer itself has a memory location. <ul> <li>name1@email.com -&gt; name_surname@email.com</li> </ul> </li> <li>reference: <strong>Alias</strong> of email. Both are same account; no separate memory. <ul> <li>netID@uni.com, first.last@uni.com</li> <li>has to be initialised. can‚Äôt be reseated.</li> </ul> </li> </ul> </li> <li>L-value reference with <code class="language-plaintext highlighter-rouge">const</code>: <div class="language-c++ highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">x</span> <span class="p">{</span> <span class="mi">50</span> <span class="p">};</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">y</span> <span class="p">{</span><span class="mi">100</span><span class="p">};</span>

<span class="kt">int</span><span class="o">&amp;</span> <span class="n">ref</span> <span class="p">{</span> <span class="n">x</span> <span class="p">};</span>           <span class="c1">// valid: lvalue reference bound to a modifiable lvalue</span>
<span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">const_ref</span> <span class="p">{</span><span class="n">x</span><span class="p">};</span> <span class="c1">// still valid</span>

<span class="c1">// const_ref = 51 // invalid: can't change through const reference.</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">51</span><span class="p">;</span>           <span class="c1">// valid: can be changed through non-const identifier </span>
<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">&lt;&lt;</span> <span class="n">ref</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span> <span class="o">&lt;&lt;</span> <span class="n">const_ref</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="c1">// 51 51</span>

<span class="kt">int</span><span class="o">&amp;</span> <span class="n">ref_y</span> <span class="p">{</span> <span class="n">y</span> <span class="p">};</span>           <span class="c1">// invalid: can't bind to a non-modifiable lvalue</span>
<span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">ref_y_const</span> <span class="p">{</span><span class="n">y</span><span class="p">};</span> <span class="c1">// valid</span>

<span class="kt">int</span><span class="o">&amp;</span> <span class="n">ref_rvalue</span> <span class="p">{</span><span class="mi">1</span><span class="p">};</span>        <span class="c1">// invalid: can't bind to an r-value. Else you'll try to modify 1 using the reference</span>
<span class="k">const</span> <span class="kt">int</span><span class="o">&amp;</span> <span class="n">ref_rvalue2</span> <span class="p">{</span><span class="mi">1</span><span class="p">};</span> <span class="c1">// valid: temporary object of rvalue is created.</span>
</code></pre></div> </div> </li> <li> <code class="language-plaintext highlighter-rouge">const</code> ptr : <a href="https://compiler-explorer.com/z/o716TG8oo" target="_blank" rel="noopener noreferrer">compiler-explorer link</a> <div class="language-c++ highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>    <span class="k">const</span> <span class="n">MyClass</span><span class="o">*</span> <span class="n">ptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">obj</span><span class="p">;</span>
    <span class="n">MyClass</span><span class="o">*</span> <span class="k">const</span> <span class="n">ptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">obj</span><span class="p">;</span>
    <span class="k">const</span> <span class="n">MyClass</span><span class="o">*</span> <span class="k">const</span> <span class="n">ptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">obj</span><span class="p">;</span> <span class="c1">//read-only</span>
</code></pre></div> </div> </li> <li> <code class="language-plaintext highlighter-rouge">unique_ptr</code> and <code class="language-plaintext highlighter-rouge">shared_ptr</code>: <ul> <li>unique_ptr</li> <li>shared_ptr : multiple smart pointers share the same resource. Resource is deallocated when the last smart ptr goes out of scope (count==0) <ul> <li>uses reference counting for control block.</li> <li>prefer make_shared. Combines resource + control into a sigle memory.</li> </ul> </li> </ul> </li> <li>Caution: <div class="language-c++ highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">decimal</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">binary</span> <span class="o">=</span> <span class="mb">0b1010</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">hex</span> <span class="o">=</span> <span class="mh">0x1010</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">octal</span> <span class="o">=</span> <span class="mo">010</span><span class="p">;</span> <span class="c1">// &lt;-- prefix zero means Octal!!</span>
</code></pre></div> </div> </li> <li>Python-like bindings: <div class="language-c++ highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="p">[</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">]</span><span class="o">:</span> <span class="n">my_map</span><span class="p">){</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">key</span> <span class="o">&lt;&lt;</span> <span class="s">": "</span> <span class="o">&lt;&lt;</span> <span class="n">val</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> </div> </li> <li>Classes: <ul> <li><a href="https://compiler-explorer.com/z/oh434PqG9" target="_blank" rel="noopener noreferrer">Compiler Explorer code link</a></li> <li>Default access to members and methods is private</li> <li>classes with virtual functions maintain <em>vtbl (virtual function table)</em> to determine the function call</li> <li> </ul> </li> <li>Dynamic &amp; Static cast: <div class="language-c++ highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>    <span class="k">if</span><span class="p">(</span><span class="n">TypeA</span><span class="o">*</span> <span class="n">p</span> <span class="o">=</span> <span class="k">dynamic_cast</span><span class="o">&lt;</span><span class="n">TypeA</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">ptr</span><span class="p">)){</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"ptr is of TypeA"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mf">3.4</span><span class="p">);</span>
</code></pre></div> </div> </li> <li>Move vs Copy - <a href="https://godbolt.org/z/jvn9dd4Mq" target="_blank" rel="noopener noreferrer">Compiler Explorer, Quick C++ Benchmark</a> </li> </ol> </article> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> ¬© Copyright 2025 Divakar Verma. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id="></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","");</script> </body> </html>